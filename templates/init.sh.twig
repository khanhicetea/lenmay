#!/bin/bash

# Should have NodeJS installed
# curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash -
# sudo apt install -y nodejs

{% include('templates/init/linux.sh.twig') %}

{% include('templates/init/security.sh.twig') %}

{% if nginx %}
    {% include('templates/init/nginx.sh.twig') %}
{% endif %}

{% if mysql %}
    {% include('templates/init/mysql.sh.twig') %}
{% endif %}

{% if redis %}
    {% include('templates/init/redis.sh.twig') %}
{% endif %}

{% if php %}
    {% include('templates/init/php.sh.twig') %}
{% endif %}

{% if jobber %}
    {% include('templates/init/jobber.sh.twig') %}
{% endif %}

{% if supervisor %}
    {% include('templates/init/supervisor.sh.twig') %}
{% endif %}

{% if netdata %}
    {% include('templates/init/netdata.sh.twig') %}
{% endif %}

# DONE
echo "BAMMMMM ! It's done !"
echo "=== Your MySQL user / password : lenmay / {{ mysql_root_password }}"

{% if netdata %}
echo "=== Netdata dashboard is active by default, proxy it with NginX or read this https://learn.netdata.cloud/docs/configure/secure-nodes"
{% endif %}